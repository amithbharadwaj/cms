<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>

</head>
<body>
	<div th:fragment="searchChannel">
	
	

<div class="py-5">
   <div class="row">
     <div class="col-md-6 col-lg-8 col-xl-8 mx-auto">
 
       <!-- form card login -->
       <div class="card rounded-1" ng-controller="searchChannelController" >
         <div class="card-header">
           <h3 class="mb-0">Search Channel</h3>
         </div>
         <div class="card-body">
           <form class="form" name="searchChannelForm" ng-submit="searchChannelForm.$valid && searchChannel()" method="post">
              
              <div ng-show="searchError">
                  <div class="alert alert-danger">
                  </div>
              </div>
              
              <div ng-show="searchSuccess">
                  <div class="alert alert-info">
                  </div>
              </div>
              
              <div class="row">
              	  <div class="col-md-3 form-group">
              	  </div>
              	  <div class="col-md-6 form-group">
              	  	<label for="id">Channel Id:</label>
              	  	<span ng-show="searchChannelForm.id.$touched && searchChannelForm.id.$error" style="color:red"> 
	                	{{handleError(searchChannelForm.id.$error, ' Numeric Only', idMinLn, idMaxLn)}}
	            	 </span>
                  	<input type="text" name="id" id="id" class="form-control input-lg"
                          placeholder="Channel Id" required maxlength="20" ng-model="form.id" ng-pattern="numReg" 
                          ng-maxlength="idMaxLn" ng-minlength="idMinLn"/>
                  </div>
              </div>
              
              <div class="row">
              	  <div class="col-md-3 form-group">
              	  </div>
              	  <div class="col-md-6 form-group">
                  	<input type="submit" class="btn btn-lg btn-primary btn-block" value="Search Channel"/>
                  </div>
              </div>
             
           </form>
           
           <div ng-show="channel">
           	<div class="py-5">
				<div class="card rounded-1" >
		         <div class="card-header">
		           <h3 class="mb-0">Channel Details</h3>
		         </div>
		         <div class="card-body">           
	           		<table class="table">
					  <thead>
					    <tr>
					      <th scope="col">Channel Id:</th>
					      <th scope="col">{{channel.id}}</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <th scope="row">Channel Name:</th>
					      <td>{{channel.name}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Channel Description:</th>
					      <td>{{channel.description}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field1</th>
					      <td>{{channel.field1}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field2</th>
					      <td>{{channel.field2}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field3</th>
					      <td>{{channel.field3}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field4</th>
					      <td>{{channel.field4}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field5</th>
					      <td>{{channel.field5}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field6</th>
					      <td>{{channel.field6}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field7</th>
					      <td>{{channel.field7}}</td>
					    </tr>
					    <tr>
					      <th scope="row">Field8</th>
					      <td>{{channel.field8}}</td>
					    </tr>
					    <tr>
					      <th scope="row">User</th>
					      <td>
							<div ng-show="channel.user">
								{{channel.user.firstName + ' ' + channel.user.lastName + ' [' + channel.user.username + ']'}}						      
					      	</div>
					      </td>
					    </tr>
					    <tr>
					    	<th scope="row"></th>
					    	<td></td>
					    </tr>
					  </tbody>
					</table>
					
					<div class="row">
						<div class="col-md-4 py-1">
	                       <button type="button" class="btn btn-lg btn-success btn-block" ng-click="updateChannelUser()">Update User</button>
	                   </div>
	                   <div class="col-md-4 py-1">
	                       <button type="button" class="btn btn-lg btn-primary btn-block" ng-click="updateChannel()">Update Channel</button>
	                   </div>
	                   <div class="col-md-4 py-1">
	                       <button type="button" class="btn btn-lg btn-danger btn-block" data-toggle="modal" data-target="#deleteChannelModal">Delete Channel</button>
	                   </div>
					</div>
					
					<!-- Modal -->
					<div class="modal fade" id="deleteChannelModal" tabindex="-1" role="dialog" aria-labelledby="deleteChannelLabel" aria-hidden="true">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <h5 class="modal-title" id="deleteChannelLabel">Delete Channel</h5>
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					          <span aria-hidden="true">&times;</span>
					        </button>
					      </div>
					      <div class="modal-body">
					        Are you sure you want to delete the channel?
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					        <button type="button" class="btn btn-danger" ng-click="deleteChannel()" data-dismiss="modal" >Delete Channel</button>
					      </div>
					    </div>
					  </div>
					</div>
					
				</div>
				</div>
              </div>	 
           </div>
         </div>
         <!--/card-block-->
       </div>
       <!-- /form card login -->
 
     </div>
 
 
   </div>
 </div>
 
 
 
 
 </div>
</body>
</html>